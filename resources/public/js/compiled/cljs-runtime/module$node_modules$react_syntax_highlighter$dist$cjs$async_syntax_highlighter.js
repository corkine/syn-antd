shadow$provide.module$node_modules$react_syntax_highlighter$dist$cjs$async_syntax_highlighter=function(global,process,require,module,exports,shadow$shims){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),
_extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),
_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_react=global(require("module$node_modules$react$index")),_highlight=global(require("module$node_modules$react_syntax_highlighter$dist$cjs$highlight"));exports.default=function(options){var loader=options.loader,isLanguageRegistered=options.isLanguageRegistered,registerLanguage=options.registerLanguage,languageLoaders=options.languageLoaders,noAsyncLoadingLanguages=options.noAsyncLoadingLanguages,ReactAsyncHighlighter=
function(_React$PureComponent){function ReactAsyncHighlighter(){(0,_classCallCheck2.default)(this,ReactAsyncHighlighter);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ReactAsyncHighlighter).apply(this,arguments))}(0,_inherits2.default)(ReactAsyncHighlighter,_React$PureComponent);(0,_createClass2.default)(ReactAsyncHighlighter,[{key:"componentDidUpdate",value:function(){!ReactAsyncHighlighter.isRegistered(this.props.language)&&languageLoaders&&this.loadLanguage()}},
{key:"componentDidMount",value:function(){var _this=this;ReactAsyncHighlighter.astGeneratorPromise||ReactAsyncHighlighter.loadAstGenerator();ReactAsyncHighlighter.astGenerator||ReactAsyncHighlighter.astGeneratorPromise.then(function(){_this.forceUpdate()});!ReactAsyncHighlighter.isRegistered(this.props.language)&&languageLoaders&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var _this2=this,language=this.props.language;"text"!==language&&ReactAsyncHighlighter.loadLanguage(language).then(function(){_this2.forceUpdate()})}},
{key:"normalizeLanguage",value:function(language){return ReactAsyncHighlighter.isSupportedLanguage(language)?language:"text"}},{key:"render",value:function(){return _react.default.createElement(ReactAsyncHighlighter.highlightInstance,(0,_extends2.default)({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:ReactAsyncHighlighter.astGenerator}))}}],[{key:"preload",value:function(){return ReactAsyncHighlighter.loadAstGenerator()}},{key:"loadLanguage",value:function(){var _loadLanguage=
(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(language){var languageLoader;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:languageLoader=languageLoaders[language];if("function"!==typeof languageLoader){_context.next=5;break}return _context.abrupt("return",languageLoader(ReactAsyncHighlighter.registerLanguage));case 5:throw Error("Language ".concat(language," not supported"));case 6:case "end":return _context.stop()}},
_callee,this)}));return function(_x){return _loadLanguage.apply(this,arguments)}}()},{key:"isSupportedLanguage",value:function(language){return ReactAsyncHighlighter.isRegistered(language)||"function"===typeof languageLoaders[language]}},{key:"loadAstGenerator",value:function(){ReactAsyncHighlighter.astGeneratorPromise=loader().then(function(astGenerator){ReactAsyncHighlighter.astGenerator=astGenerator;registerLanguage&&ReactAsyncHighlighter.languages.forEach(function(language,name){return registerLanguage(astGenerator,
name,language)})});return ReactAsyncHighlighter.astGeneratorPromise}}]);return ReactAsyncHighlighter}(_react.default.PureComponent);(0,_defineProperty2.default)(ReactAsyncHighlighter,"astGenerator",null);(0,_defineProperty2.default)(ReactAsyncHighlighter,"highlightInstance",(0,_highlight.default)(null,{}));(0,_defineProperty2.default)(ReactAsyncHighlighter,"astGeneratorPromise",null);(0,_defineProperty2.default)(ReactAsyncHighlighter,"languages",new Map);(0,_defineProperty2.default)(ReactAsyncHighlighter,
"supportedLanguages",options.supportedLanguages||Object.keys(languageLoaders||{}));(0,_defineProperty2.default)(ReactAsyncHighlighter,"isRegistered",function(language){if(noAsyncLoadingLanguages)return!0;if(!registerLanguage)throw Error("Current syntax highlighter doesn't support registration of languages");return ReactAsyncHighlighter.astGenerator?isLanguageRegistered(ReactAsyncHighlighter.astGenerator,language):ReactAsyncHighlighter.languages.has(language)});(0,_defineProperty2.default)(ReactAsyncHighlighter,
"registerLanguage",function(name,language){if(!registerLanguage)throw Error("Current syntax highlighter doesn't support registration of languages");if(ReactAsyncHighlighter.astGenerator)return registerLanguage(ReactAsyncHighlighter.astGenerator,name,language);ReactAsyncHighlighter.languages.set(name,language)});return ReactAsyncHighlighter}}
//# sourceMappingURL=module$node_modules$react_syntax_highlighter$dist$cjs$async_syntax_highlighter.js.map
