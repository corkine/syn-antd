shadow$provide.module$node_modules$rc_tabs$es$ScrollableTabBarNode=function(global,process,require,module,exports,shadow$shims){Object.defineProperty(exports,"__esModule",{value:!0});process=require("module$node_modules$babel_runtime$helpers$defineProperty");var _defineProperty3=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$babel_runtime$helpers$classCallCheck");var _classCallCheck3=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$babel_runtime$helpers$createClass");
var _createClass3=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$babel_runtime$helpers$possibleConstructorReturn");var _possibleConstructorReturn3=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$babel_runtime$helpers$inherits");var _inherits3=global.shadow.js.babel.interopRequireDefault(process);process=require("module$node_modules$react$index");var _react2=global.shadow.js.babel.interopRequireDefault(process);
process=require("module$node_modules$prop_types$index");process=global.shadow.js.babel.interopRequireDefault(process);module=require("module$node_modules$classnames$index");var _classnames6=global.shadow.js.babel.interopRequireDefault(module);module=require("module$node_modules$lodash$debounce");var _debounce2=global.shadow.js.babel.interopRequireDefault(module);module=require("module$node_modules$resize_observer_polyfill$dist$ResizeObserver");var _resizeObserverPolyfill2=global.shadow.js.babel.interopRequireDefault(module),
_utils=require("module$node_modules$rc_tabs$es$utils");global=function(_React$Component){function ScrollableTabBarNode(props){(0,_classCallCheck3.default)(this,ScrollableTabBarNode);var _this=(0,_possibleConstructorReturn3.default)(this,(ScrollableTabBarNode.__proto__||Object.getPrototypeOf(ScrollableTabBarNode)).call(this,props));_this.prevTransitionEnd=function(e){"opacity"===e.propertyName&&(e=_this.props.getRef("container"),_this.scrollToActiveTab({target:e,currentTarget:e}))};_this.scrollToActiveTab=
function(e){var activeTab=_this.props.getRef("activeTab"),navWrap=_this.props.getRef("navWrap");if((!e||e.target===e.currentTarget)&&activeTab&&(e=_this.isNextPrevShown()&&_this.lastNextPrevShown,_this.lastNextPrevShown=_this.isNextPrevShown(),e)){e=_this.getScrollWH(activeTab);var navWrapNodeWH=_this.getOffsetWH(navWrap),offset=_this.offset;navWrap=_this.getOffsetLT(navWrap);activeTab=_this.getOffsetLT(activeTab);navWrap>activeTab?_this.setOffset(offset+(navWrap-activeTab)):navWrap+navWrapNodeWH<
activeTab+e&&_this.setOffset(offset-(activeTab+e-(navWrap+navWrapNodeWH)))}};_this.prev=function(e){_this.props.onPrevClick(e);e=_this.props.getRef("navWrap");e=_this.getOffsetWH(e);_this.setOffset(_this.offset+e)};_this.next=function(e){_this.props.onNextClick(e);e=_this.props.getRef("navWrap");e=_this.getOffsetWH(e);_this.setOffset(_this.offset-e)};_this.offset=0;_this.state={next:!1,prev:!1};return _this}(0,_inherits3.default)(ScrollableTabBarNode,_React$Component);(0,_createClass3.default)(ScrollableTabBarNode,
[{key:"componentDidMount",value:function(){var _this2=this;this.componentDidUpdate();this.debouncedResize=(0,_debounce2.default)(function(){_this2.setNextPrev();_this2.scrollToActiveTab()},200);this.resizeObserver=new _resizeObserverPolyfill2.default(this.debouncedResize);this.resizeObserver.observe(this.props.getRef("container"))}},{key:"componentDidUpdate",value:function(prevProps){var props=this.props;if(prevProps&&prevProps.tabBarPosition!==props.tabBarPosition)this.setOffset(0);else{var nextPrev=
this.setNextPrev();this.isNextPrevShown(this.state)!==this.isNextPrevShown(nextPrev)?this.setState({},this.scrollToActiveTab):prevProps&&props.activeKey===prevProps.activeKey||this.scrollToActiveTab()}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect();this.debouncedResize&&this.debouncedResize.cancel&&this.debouncedResize.cancel()}},{key:"setNextPrev",value:function(){var navNode=this.props.getRef("nav"),navTabsContainer=this.props.getRef("navTabsContainer");
navNode=this.getScrollWH(navTabsContainer||navNode);var containerWH=this.getOffsetWH(this.props.getRef("container"))+1;navTabsContainer=this.getOffsetWH(this.props.getRef("navWrap"));var offset=this.offset;containerWH-=navNode;0<=containerWH?(containerWH=!1,this.setOffset(0,!1),offset=0):containerWH<offset?containerWH=!0:(containerWH=!1,navNode=navTabsContainer-navNode,this.setOffset(navNode,!1),offset=navNode);navNode=0>offset?!0:!1;this.setNext(containerWH);this.setPrev(navNode);return{next:containerWH,
prev:navNode}}},{key:"getOffsetWH",value:function(node){var tabBarPosition=this.props.tabBarPosition,prop="offsetWidth";if("left"===tabBarPosition||"right"===tabBarPosition)prop="offsetHeight";return node[prop]}},{key:"getScrollWH",value:function(node){var tabBarPosition=this.props.tabBarPosition,prop="scrollWidth";if("left"===tabBarPosition||"right"===tabBarPosition)prop="scrollHeight";return node[prop]}},{key:"getOffsetLT",value:function(node){var tabBarPosition=this.props.tabBarPosition,prop="left";
if("left"===tabBarPosition||"right"===tabBarPosition)prop="top";return node.getBoundingClientRect()[prop]}},{key:"setOffset",value:function(offset){var JSCompiler_object_inline_value_37,JSCompiler_object_inline_name_38,checkNextPrev=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,target=Math.min(0,offset);if(this.offset!==target){this.offset=target;var tabBarPosition=this.props.tabBarPosition,navStyle=this.props.getRef("nav").style,transformSupported=(0,_utils.isTransform3dSupported)(navStyle);
"left"===tabBarPosition||"right"===tabBarPosition?transformSupported?(JSCompiler_object_inline_value_37="translate3d(0,"+target+"px,0)",JSCompiler_object_inline_name_38=void 0):(JSCompiler_object_inline_name_38="top",JSCompiler_object_inline_value_37=target+"px"):transformSupported?(JSCompiler_object_inline_value_37="translate3d("+target+"px,0,0)",JSCompiler_object_inline_name_38=void 0):(JSCompiler_object_inline_name_38="left",JSCompiler_object_inline_value_37=target+"px");transformSupported?(0,
_utils.setTransform)(navStyle,JSCompiler_object_inline_value_37):navStyle[JSCompiler_object_inline_name_38]=JSCompiler_object_inline_value_37;checkNextPrev&&this.setNextPrev()}}},{key:"setPrev",value:function(v){this.state.prev!==v&&this.setState({prev:v})}},{key:"setNext",value:function(v){this.state.next!==v&&this.setState({next:v})}},{key:"isNextPrevShown",value:function(state){return state?state.next||state.prev:this.state.next||this.state.prev}},{key:"render",value:function(){var _classnames,
_classnames2,_classnames3,_classnames4,_state2=this.state,next=_state2.next,prev=_state2.prev,_props=this.props;_state2=_props.prefixCls;var scrollAnimated=_props.scrollAnimated,navWrapper=_props.navWrapper,prevIcon=_props.prevIcon,nextIcon=_props.nextIcon;_props=prev||next;prev=_react2.default.createElement("span",{onClick:prev?this.prev:null,unselectable:"unselectable",className:(0,_classnames6.default)((_classnames={},(0,_defineProperty3.default)(_classnames,_state2+"-tab-prev",1),(0,_defineProperty3.default)(_classnames,
_state2+"-tab-btn-disabled",!prev),(0,_defineProperty3.default)(_classnames,_state2+"-tab-arrow-show",_props),_classnames)),onTransitionEnd:this.prevTransitionEnd},prevIcon||_react2.default.createElement("span",{className:_state2+"-tab-prev-icon"}));_classnames=_react2.default.createElement("span",{onClick:next?this.next:null,unselectable:"unselectable",className:(0,_classnames6.default)((_classnames2={},(0,_defineProperty3.default)(_classnames2,_state2+"-tab-next",1),(0,_defineProperty3.default)(_classnames2,
_state2+"-tab-btn-disabled",!next),(0,_defineProperty3.default)(_classnames2,_state2+"-tab-arrow-show",_props),_classnames2))},nextIcon||_react2.default.createElement("span",{className:_state2+"-tab-next-icon"}));_classnames2=_state2+"-nav";_classnames2=(0,_classnames6.default)((_classnames3={},(0,_defineProperty3.default)(_classnames3,_classnames2,!0),(0,_defineProperty3.default)(_classnames3,scrollAnimated?_classnames2+"-animated":_classnames2+"-no-animated",!0),_classnames3));return _react2.default.createElement("div",
{className:(0,_classnames6.default)((_classnames4={},(0,_defineProperty3.default)(_classnames4,_state2+"-nav-container",1),(0,_defineProperty3.default)(_classnames4,_state2+"-nav-container-scrolling",_props),_classnames4)),key:"container",ref:this.props.saveRef("container")},prev,_classnames,_react2.default.createElement("div",{className:_state2+"-nav-wrap",ref:this.props.saveRef("navWrap")},_react2.default.createElement("div",{className:_state2+"-nav-scroll"},_react2.default.createElement("div",
{className:_classnames2,ref:this.props.saveRef("nav")},navWrapper(this.props.children)))))}}]);return ScrollableTabBarNode}(_react2.default.Component);exports.default=global;global.propTypes={activeKey:process.default.string,getRef:process.default.func.isRequired,saveRef:process.default.func.isRequired,tabBarPosition:process.default.oneOf(["left","right","top","bottom"]),prefixCls:process.default.string,scrollAnimated:process.default.bool,onPrevClick:process.default.func,onNextClick:process.default.func,
navWrapper:process.default.func,children:process.default.node,prevIcon:process.default.node,nextIcon:process.default.node};global.defaultProps={tabBarPosition:"left",prefixCls:"",scrollAnimated:!0,onPrevClick:function(){},onNextClick:function(){},navWrapper:function(ele){return ele}}}
//# sourceMappingURL=module$node_modules$rc_tabs$es$ScrollableTabBarNode.js.map
