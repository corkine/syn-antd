shadow$provide.module$node_modules$rc_input_number$lib$index=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function noop(){}function preventDefault(e){e.preventDefault()}exports.__esModule=!0;global=require("module$node_modules$babel_runtime$helpers$objectWithoutProperties");var _objectWithoutProperties3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$extends");
var _extends3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$classCallCheck");var _classCallCheck3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$inherits");var _inherits3=_interopRequireDefault(global);global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);
global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);process=require("module$node_modules$classnames$index");var _classnames2=_interopRequireDefault(process);process=require("module$node_modules$rc_util$lib$KeyCode");var _KeyCode2=_interopRequireDefault(process);require=require("module$node_modules$rc_input_number$lib$InputHandler");var _InputHandler2=_interopRequireDefault(require);require=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;var isValidProps=function(value){return void 0!==
value&&null!==value};process=function(_React$Component){function InputNumber(props){(0,_classCallCheck3["default"])(this,InputNumber);var _this=(0,_possibleConstructorReturn3["default"])(this,_React$Component.call(this,props));_initialiseProps.call(_this);var value="value"in props?props.value:props.defaultValue;_this.state={focused:props.autoFocus};props=_this.getValidValue(_this.toNumber(value));_this.state=(0,_extends3["default"])({},_this.state,{inputValue:_this.toPrecisionAsStep(props),value:props});
return _this}(0,_inherits3["default"])(InputNumber,_React$Component);InputNumber.prototype.componentDidMount=function(){this.componentDidUpdate()};InputNumber.prototype.componentDidUpdate=function(prevProps){var _props=this.props,value=_props.value,onChange=_props.onChange,max=_props.max;_props=_props.min;var focused=this.state.focused;if(prevProps){if(prevProps.value!==value){focused=focused?value:this.getValidValue(value);var nextInputValue=this.pressingUpOrDown?focused:this.inputting?this.rawInput:
this.toPrecisionAsStep(focused);this.setState({value:focused,inputValue:nextInputValue})}value="value"in this.props?value:this.state.value;"max"in this.props&&prevProps.max!==max&&"number"===typeof value&&value>max&&onChange&&onChange(max);"min"in this.props&&prevProps.min!==_props&&"number"===typeof value&&value<_props&&onChange&&onChange(_props)}try{if(void 0!==this.cursorStart&&this.state.focused)if(!this.partRestoreByAfter(this.cursorAfter)&&this.state.value!==this.props.value){var pos=this.cursorStart+
1;this.cursorAfter?this.lastKeyCode===_KeyCode2["default"].BACKSPACE?pos=this.cursorStart-1:this.lastKeyCode===_KeyCode2["default"].DELETE&&(pos=this.cursorStart):pos=this.input.value.length;this.fixCaret(pos,pos)}else if(this.currentValue===this.input.value)switch(this.lastKeyCode){case _KeyCode2["default"].BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case _KeyCode2["default"].DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1)}}catch(e){}this.lastKeyCode=null;this.pressingUpOrDown&&
(this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus(),this.pressingUpOrDown=!1)};InputNumber.prototype.componentWillUnmount=function(){this.stop()};InputNumber.prototype.getCurrentValidValue=function(value){value=""===value?"":this.isNotCompleteNumber(parseFloat(value,10))?this.state.value:this.getValidValue(value);return this.toNumber(value)};InputNumber.prototype.getRatio=function(e){var ratio=1;e.metaKey||e.ctrlKey?ratio=.1:e.shiftKey&&(ratio=10);return ratio};
InputNumber.prototype.getValueFromEvent=function(e){e=e.target.value.trim().replace(/ã€‚/g,".");isValidProps(this.props.decimalSeparator)&&(e=e.replace(this.props.decimalSeparator,"."));return e};InputNumber.prototype.getValidValue=function(value){var min=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.props.min,max=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.props.max,val=parseFloat(value,10);if(isNaN(val))return value;val<min&&(val=min);val>max&&(val=max);return val};InputNumber.prototype.setValue=
function(v,callback){var precision=this.props.precision,newValue=this.isNotCompleteNumber(parseFloat(v,10))?null:parseFloat(v,10),_state=this.state,_state$value=_state.value;_state$value=void 0===_state$value?null:_state$value;_state=_state.inputValue;_state=void 0===_state?null:_state;precision="number"===typeof newValue?newValue.toFixed(precision):""+newValue;precision=newValue!==_state$value||precision!==""+_state;"value"in this.props?this.setState({inputValue:this.toPrecisionAsStep(this.state.value)},
callback):this.setState({value:newValue,inputValue:this.toPrecisionAsStep(v)},callback);if(precision)this.props.onChange(newValue);return newValue};InputNumber.prototype.getPrecision=function(value){if(isValidProps(this.props.precision))return this.props.precision;value=value.toString();if(0<=value.indexOf("e-"))return parseInt(value.slice(value.indexOf("e-")+2),10);var precision=0;0<=value.indexOf(".")&&(precision=value.length-value.indexOf(".")-1);return precision};InputNumber.prototype.getMaxPrecision=
function(currentValue){var ratio=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,_props2=this.props,precision=_props2.precision;_props2=_props2.step;if(isValidProps(precision))return precision;ratio=this.getPrecision(ratio);precision=this.getPrecision(_props2);_props2=this.getPrecision(currentValue);return currentValue?Math.max(_props2,ratio+precision):ratio+precision};InputNumber.prototype.getPrecisionFactor=function(currentValue){var precision=this.getMaxPrecision(currentValue,1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1);return Math.pow(10,precision)};InputNumber.prototype.fixCaret=function(start,end){if(void 0!==start&&void 0!==end&&this.input&&this.input.value)try{var currentEnd=this.input.selectionEnd;start===this.input.selectionStart&&end===currentEnd||this.input.setSelectionRange(start,end)}catch(e){}};InputNumber.prototype.focus=function(){this.input.focus();this.recordCursorPosition()};InputNumber.prototype.blur=function(){this.input.blur()};InputNumber.prototype.formatWrapper=
function(num){return this.props.formatter?this.props.formatter(num):num};InputNumber.prototype.toPrecisionAsStep=function(num){if(this.isNotCompleteNumber(num)||""===num)return num;var precision=Math.abs(this.getMaxPrecision(num));return isNaN(precision)?num.toString():Number(num).toFixed(precision)};InputNumber.prototype.isNotCompleteNumber=function(num){return isNaN(num)||""===num||null===num||num&&num.toString().indexOf(".")===num.toString().length-1};InputNumber.prototype.toNumber=function(num){var precision=
this.props.precision,focused=this.state.focused;focused=num&&16<num.length&&focused;return this.isNotCompleteNumber(num)||focused?num:isValidProps(precision)?Math.round(num*Math.pow(10,precision))/Math.pow(10,precision):Number(num)};InputNumber.prototype.upStep=function(val,rat){var step=this.props.step,precisionFactor=this.getPrecisionFactor(val,rat),precision=Math.abs(this.getMaxPrecision(val,rat));val=((precisionFactor*val+precisionFactor*step*rat)/precisionFactor).toFixed(precision);return this.toNumber(val)};
InputNumber.prototype.downStep=function(val,rat){var step=this.props.step,precisionFactor=this.getPrecisionFactor(val,rat),precision=Math.abs(this.getMaxPrecision(val,rat));val=((precisionFactor*val-precisionFactor*step*rat)/precisionFactor).toFixed(precision);return this.toNumber(val)};InputNumber.prototype.step=function(type,e){var _this2=this,ratio=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,recursive=arguments[3];this.stop();e&&(e.persist(),e.preventDefault());var props=this.props;
if(!props.disabled){var value=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(value)){value=this[type+"Step"](value,ratio);var outOfRange=value>props.max||value<props.min;value>props.max?value=props.max:value<props.min&&(value=props.min);this.setValue(value);this.setState({focused:!0});outOfRange||(this.autoStepTimer=setTimeout(function(){_this2[type](e,ratio,!0)},recursive?200:600))}}};InputNumber.prototype.render=function(){var _classNames,props=(0,_extends3["default"])({},
this.props),prefixCls=props.prefixCls,disabled=props.disabled,readOnly=props.readOnly,useTouch=props.useTouch,autoComplete=props.autoComplete,upHandler=props.upHandler,downHandler=props.downHandler;(0,_objectWithoutProperties3["default"])(props,"prefixCls disabled readOnly useTouch autoComplete upHandler downHandler".split(" "));var classes=(0,_classnames2["default"])((_classNames={},_classNames[prefixCls]=!0,_classNames[props.className]=!!props.className,_classNames[prefixCls+"-disabled"]=disabled,
_classNames[prefixCls+"-focused"]=this.state.focused,_classNames)),downDisabledClass=_classNames="",value=this.state.value;if(value||0===value)if(isNaN(value))_classNames=prefixCls+"-handler-up-disabled",downDisabledClass=prefixCls+"-handler-down-disabled";else{var val=Number(value);val>=props.max&&(_classNames=prefixCls+"-handler-up-disabled");val<=props.min&&(downDisabledClass=prefixCls+"-handler-down-disabled")}val={};for(var key in props)!props.hasOwnProperty(key)||"data-"!==key.substr(0,5)&&
"aria-"!==key.substr(0,5)&&"role"!==key||(val[key]=props[key]);key=!props.readOnly&&!props.disabled;var inputDisplayValue=this.getInputDisplayValue();if(useTouch){useTouch={onTouchStart:key&&!_classNames?this.up:noop,onTouchEnd:this.stop};var downEvents={onTouchStart:key&&!downDisabledClass?this.down:noop,onTouchEnd:this.stop}}else useTouch={onMouseDown:key&&!_classNames?this.up:noop,onMouseUp:this.stop,onMouseLeave:this.stop},downEvents={onMouseDown:key&&!downDisabledClass?this.down:noop,onMouseUp:this.stop,
onMouseLeave:this.stop};var isUpDisabled=!!_classNames||disabled||readOnly;disabled=!!downDisabledClass||disabled||readOnly;return _react2["default"].createElement("div",{className:classes,style:props.style,title:props.title,onMouseEnter:props.onMouseEnter,onMouseLeave:props.onMouseLeave,onMouseOver:props.onMouseOver,onMouseOut:props.onMouseOut},_react2["default"].createElement("div",{className:prefixCls+"-handler-wrap"},_react2["default"].createElement(_InputHandler2["default"],(0,_extends3["default"])({ref:this.saveUp,
disabled:isUpDisabled,prefixCls:prefixCls,unselectable:"unselectable"},useTouch,{role:"button","aria-label":"Increase Value","aria-disabled":!!isUpDisabled,className:prefixCls+"-handler "+prefixCls+"-handler-up "+_classNames}),upHandler||_react2["default"].createElement("span",{unselectable:"unselectable",className:prefixCls+"-handler-up-inner",onClick:preventDefault})),_react2["default"].createElement(_InputHandler2["default"],(0,_extends3["default"])({ref:this.saveDown,disabled:disabled,prefixCls:prefixCls,
unselectable:"unselectable"},downEvents,{role:"button","aria-label":"Decrease Value","aria-disabled":!!disabled,className:prefixCls+"-handler "+prefixCls+"-handler-down "+downDisabledClass}),downHandler||_react2["default"].createElement("span",{unselectable:"unselectable",className:prefixCls+"-handler-down-inner",onClick:preventDefault}))),_react2["default"].createElement("div",{className:prefixCls+"-input-wrap",role:"spinbutton","aria-valuemin":props.min,"aria-valuemax":props.max,"aria-valuenow":value},
_react2["default"].createElement("input",(0,_extends3["default"])({required:props.required,type:props.type,placeholder:props.placeholder,onClick:props.onClick,onMouseUp:this.onMouseUp,className:prefixCls+"-input",tabIndex:props.tabIndex,autoComplete:autoComplete,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:key?this.onKeyDown:noop,onKeyUp:key?this.onKeyUp:noop,autoFocus:props.autoFocus,maxLength:props.maxLength,readOnly:props.readOnly,disabled:props.disabled,max:props.max,min:props.min,step:props.step,
name:props.name,id:props.id,onChange:this.onChange,ref:this.saveInput,value:inputDisplayValue,pattern:props.pattern},val))))};return InputNumber}(_react2["default"].Component);process.propTypes={value:global["default"].oneOfType([global["default"].number,global["default"].string]),defaultValue:global["default"].oneOfType([global["default"].number,global["default"].string]),focusOnUpDown:global["default"].bool,autoFocus:global["default"].bool,onChange:global["default"].func,onPressEnter:global["default"].func,
onKeyDown:global["default"].func,onKeyUp:global["default"].func,prefixCls:global["default"].string,tabIndex:global["default"].oneOfType([global["default"].string,global["default"].number]),disabled:global["default"].bool,onFocus:global["default"].func,onBlur:global["default"].func,readOnly:global["default"].bool,max:global["default"].number,min:global["default"].number,step:global["default"].oneOfType([global["default"].number,global["default"].string]),upHandler:global["default"].node,downHandler:global["default"].node,
useTouch:global["default"].bool,formatter:global["default"].func,parser:global["default"].func,onMouseEnter:global["default"].func,onMouseLeave:global["default"].func,onMouseOver:global["default"].func,onMouseOut:global["default"].func,onMouseUp:global["default"].func,precision:global["default"].number,required:global["default"].bool,pattern:global["default"].string,decimalSeparator:global["default"].string};process.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",min:-require,
step:1,style:{},onChange:noop,onKeyDown:noop,onPressEnter:noop,onFocus:noop,onBlur:noop,parser:function(input){return input.replace(/[^\w\.-]+/g,"")},required:!1,autoComplete:"off"};var _initialiseProps=function(){var _this3=this;this.onKeyDown=function(e){for(var _len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];_key=_this3.props;_len=_key.onKeyDown;_key=_key.onPressEnter;e.keyCode===_KeyCode2["default"].UP?(_key=_this3.getRatio(e),_this3.up(e,
_key),_this3.stop()):e.keyCode===_KeyCode2["default"].DOWN?(_key=_this3.getRatio(e),_this3.down(e,_key),_this3.stop()):e.keyCode===_KeyCode2["default"].ENTER&&_key&&_key(e);_this3.recordCursorPosition();_this3.lastKeyCode=e.keyCode;_len&&_len.apply(void 0,[e].concat(args))};this.onKeyUp=function(e){for(var _len2=arguments.length,args=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];_len2=_this3.props.onKeyUp;_this3.stop();_this3.recordCursorPosition();_len2&&_len2.apply(void 0,
[e].concat(args))};this.onChange=function(e){var onChange=_this3.props.onChange;_this3.state.focused&&(_this3.inputting=!0);_this3.rawInput=_this3.props.parser(_this3.getValueFromEvent(e));_this3.setState({inputValue:_this3.rawInput});onChange(_this3.toNumber(_this3.rawInput))};this.onMouseUp=function(){var onMouseUp=_this3.props.onMouseUp;_this3.recordCursorPosition();onMouseUp&&onMouseUp.apply(void 0,arguments)};this.onFocus=function(){var _props4;_this3.setState({focused:!0});(_props4=_this3.props).onFocus.apply(_props4,
arguments)};this.onBlur=function(e){for(var _len3=arguments.length,args=Array(1<_len3?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];_len3=_this3.props.onBlur;_this3.inputting=!1;_this3.setState({focused:!1});_key3=_this3.getCurrentValidValue(_this3.state.inputValue);e.persist();var newValue=_this3.setValue(_key3);_len3&&(_key3=_this3.input.value,newValue=_this3.getInputDisplayValue({focus:!1,value:newValue}),_this3.input.value=newValue,_len3.apply(void 0,[e].concat(args)),
_this3.input.value=_key3)};this.getInputDisplayValue=function(state){state=state||_this3.state;var inputValue=state.inputValue,value=state.value;state=state.focused?inputValue:_this3.toPrecisionAsStep(value);if(void 0===state||null===state)state="";state=_this3.formatWrapper(state);isValidProps(_this3.props.decimalSeparator)&&(state=state.toString().replace(".",_this3.props.decimalSeparator));return state};this.recordCursorPosition=function(){try{_this3.cursorStart=_this3.input.selectionStart,_this3.cursorEnd=
_this3.input.selectionEnd,_this3.currentValue=_this3.input.value,_this3.cursorBefore=_this3.input.value.substring(0,_this3.cursorStart),_this3.cursorAfter=_this3.input.value.substring(_this3.cursorEnd)}catch(e){}};this.restoreByAfter=function(str){if(void 0===str)return!1;var fullStr=_this3.input.value,index=fullStr.lastIndexOf(str);return-1===index?!1:index+str.length===fullStr.length?(_this3.fixCaret(index,index),!0):!1};this.partRestoreByAfter=function(str){return void 0===str?!1:Array.prototype.some.call(str,
function(_,start){_=str.substring(start);return _this3.restoreByAfter(_)})};this.stop=function(){_this3.autoStepTimer&&clearTimeout(_this3.autoStepTimer)};this.down=function(e,ratio,recursive){_this3.pressingUpOrDown=!0;_this3.step("down",e,ratio,recursive)};this.up=function(e,ratio,recursive){_this3.pressingUpOrDown=!0;_this3.step("up",e,ratio,recursive)};this.saveUp=function(node){_this3.upHandler=node};this.saveDown=function(node){_this3.downHandler=node};this.saveInput=function(node){_this3.input=
node}};exports["default"]=process;module.exports=exports["default"]}
//# sourceMappingURL=module$node_modules$rc_input_number$lib$index.js.map
